CREATE DATABASE `educa+`;


CREATE TABLE maestros (
    login VARCHAR(20) PRIMARY KEY,
    password VARCHAR(20) NOT NULL,
    nombre VARCHAR(50) NOT NULL
);

CREATE TABLE asignaturas (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(20) NOT NULL,
    login_maestro VARCHAR(20),
    FOREIGN KEY (login_maestro) REFERENCES maestros(login)
);

CREATE TABLE temas (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL,
    id_asignatura INT,
    FOREIGN KEY (id_asignatura) REFERENCES asignaturas(id)
);

CREATE TABLE actividades (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(20) NOT NULL,
    descripcion TEXT NOT NULL,
    objetivos TEXT,
    id_tema INT,
    FOREIGN KEY (id_tema) REFERENCES temas(id)
);

CREATE TABLE alumnos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL
);

CREATE TABLE alumno_maestro (
    id_alumno INT,
    login_maestro VARCHAR(20),
    PRIMARY KEY (id_alumno, login_maestro),
    FOREIGN KEY (id_alumno) REFERENCES alumnos(id),
    FOREIGN KEY (login_maestro) REFERENCES maestros(login)
);

CREATE USER 'educa+'@'localhost' IDENTIFIED BY 'educa+';
GRANT ALL PRIVILEGES ON *.* TO 'educa+'@'localhost' WITH GRANT OPTION;
FLUSH PRIVILEGES;




